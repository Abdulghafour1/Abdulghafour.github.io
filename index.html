<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج طلب إجازة</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            color: #333;
        }
        .container {
            margin-top: 50px;
        }
        footer {
            text-align: center;
            padding: 10px 0;
            background-color: #28a745;
            color: white;
            position: relative;
            width: 100%;
            bottom: 0;
            z-index: 999;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center">نموذج طلب إجازة</h1>
        <form id="leave-form">
            <div class="form-group">
                <label for="employeeName">اسم الموظف</label>
                <input type="text" class="form-control" id="employeeName" name="employeeName" required>
            </div>
            <div class="form-group">
                <label for="employeeEmail">البريد الإلكتروني للموظف</label>
                <input type="email" class="form-control" id="employeeEmail" name="employeeEmail" required>
            </div>
            <div class="form-group">
                <label for="managerEmail">البريد الإلكتروني للمدير</label>
                <input type="email" class="form-control" id="managerEmail" name="managerEmail" required>
            </div>
            <div class="form-group">
                <label for="startDate">تاريخ بدء الإجازة</label>
                <input type="date" class="form-control" id="startDate" name="startDate" required>
            </div>
            <div class="form-group">
                <label for="endDate">تاريخ انتهاء الإجازة</label>
                <input type="date" class="form-control" id="endDate" name="endDate" required>
            </div>
            <div class="form-group">
                <label for="reason">سبب الإجازة</label>
                <textarea class="form-control" id="reason" name="reason" rows="3" required></textarea>
            </div>
            <button type="submit" class="btn btn-primary">إرسال الطلب</button>
        </form>
    </div>
    <footer>
        <p>© Abdulghafour 2024 </p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2.6.4/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("yDVEKSMfjzmO1anyT"); // استخدم معرف المستخدم العام هنا
        })();
        
        document.getElementById('leave-form').addEventListener('submit', function(event) {
            event.preventDefault();

            const serviceID = 'service_j27vrxk'; // استخدم معرف الخدمة هنا
            const templateID = 'template_4yw71pt'; // استخدم معرف القالب هنا

            const templateParams = {
                employeeName: document.getElementById('employeeName').value,
                employeeEmail: document.getElementById('employeeEmail').value,
                managerEmail: document.getElementById('managerEmail').value,
                startDate: document.getElementById('startDate').value,
                endDate: document.getElementById('endDate').value,
                reason: document.getElementById('reason').value
            };

            emailjs.send(serviceID, templateID, templateParams)
                .then(function(response) {
                    alert('تم إرسال طلب الإجازة بنجاح!', response.status, response.text);
                }, function(error) {
                    alert('فشل في إرسال طلب الإجازة...', error);
                });
        });
    </script>
</body>
</html>
